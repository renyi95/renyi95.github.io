<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.1.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css"><script src="https://cdn.jsdelivr.net/npm/echarts@5.1.1/dist/echarts.min.js"></script><script class="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"obsidianstar.cn",root:"/",images:"/images",scheme:"Pisces",version:"8.3.0",exturl:!1,sidebar:{position:"left",display:"always",padding:18,offset:12},copycode:!0,bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"fadeInDown",post_body:"fadeInDown",coll_header:"fadeInLeft",sidebar:"fadeInUp"}},prism:!1,i18n:{placeholder:"搜索...",empty:"没有找到任何搜索结果：${query}",hits_time:"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）",hits:"找到 ${hits} 个搜索结果"},path:"/search.xml",localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!0}}</script><meta name="description" content="购买阿里云学生机 使用淘宝号登陆阿里云 app 点击中间部分校园扶持 进入新页面点击学生特惠 选择云服务器 在选操作系统的时候选 centos，如果没有 centos 系统可以先选 ubuntu（后续更改 centos） 选好以后购买即可 9.9 元一个月  更换 centos7 系统 登陆 PC 端阿里云网站（aliyun.com） 点击右上角控制台，打开新页面点击左侧云服务器 ECS 点击新的"><meta property="og:type" content="article"><meta property="og:title" content="阿里云服务器部署LAMP环境"><meta property="og:url" content="https://obsidianstar.cn/2021/01/14/server/alicloud-lamp/index.html"><meta property="og:site_name" content="Rynes"><meta property="og:description" content="购买阿里云学生机 使用淘宝号登陆阿里云 app 点击中间部分校园扶持 进入新页面点击学生特惠 选择云服务器 在选操作系统的时候选 centos，如果没有 centos 系统可以先选 ubuntu（后续更改 centos） 选好以后购买即可 9.9 元一个月  更换 centos7 系统 登陆 PC 端阿里云网站（aliyun.com） 点击右上角控制台，打开新页面点击左侧云服务器 ECS 点击新的"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/shop.png"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/ip.png"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/xshell.png"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/xshell1.png"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/xshell2.png"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/xftp1.png"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/xshellxftp.png"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/shell.png"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/success.png"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/mysql1.png"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/mysql2.png"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/mysql3.png"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/mysql4.png"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/10038.png"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/lianjie1.png"><meta property="og:image" content="https://obsidianstar.cn/images/alicloud/fanghuo.png"><meta property="article:published_time" content="2021-01-13T16:00:00.000Z"><meta property="article:modified_time" content="2023-08-04T10:54:50.890Z"><meta property="article:author" content="Rynes"><meta property="article:tag" content="server"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://obsidianstar.cn/images/alicloud/shop.png"><link rel="canonical" href="https://obsidianstar.cn/2021/01/14/server/alicloud-lamp/"><script data-pjax class="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>阿里云服务器部署LAMP环境 | Rynes</title><noscript><style>body{margin-top:2rem}.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header,.use-motion .sidebar{visibility:visible}.use-motion .footer,.use-motion .header,.use-motion .site-brand-container .toggle{opacity:initial}.use-motion .custom-logo-image,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line{transform:scaleX(1)}.search-pop-overlay,.sidebar-nav{display:none}.sidebar-panel{display:block}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">Rynes</h1><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">306</span></a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">47</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">36</span></a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B4%AD%E4%B9%B0%E9%98%BF%E9%87%8C%E4%BA%91%E5%AD%A6%E7%94%9F%E6%9C%BA"><span class="nav-number">1.</span> <span class="nav-text">购买阿里云学生机</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%B4%E6%8D%A2-centos7-%E7%B3%BB%E7%BB%9F"><span class="nav-number">2.</span> <span class="nav-text">更换 centos7 系统</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Xshell-%E8%BF%9E%E6%8E%A5%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">3.</span> <span class="nav-text">使用 Xshell 连接阿里云服务器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Xftp-%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E7%94%A8%E4%BA%8E%E6%9C%AC%E6%9C%BA%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93"><span class="nav-number">4.</span> <span class="nav-text">使用 Xftp 连接服务器，用于本机与服务器的文件传输</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-apache"><span class="nav-number">5.</span> <span class="nav-text">安装 apache</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-PHP"><span class="nav-number">6.</span> <span class="nav-text">安装 PHP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-Mysql"><span class="nav-number">7.</span> <span class="nav-text">安装 Mysql</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-php-%E5%92%8C-mysql-%E6%98%AF%E5%90%A6%E8%83%BD%E5%A4%9F%E4%BD%BF%E7%94%A8"><span class="nav-number">8.</span> <span class="nav-text">测试 php 和 mysql 是否能够使用</span></a></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#yum-%E5%AE%89%E8%A3%85-mysql"><span class="nav-number"></span> <span class="nav-text">yum 安装 mysql</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-Apache%E3%80%81mysql-%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8"><span class="nav-number"></span> <span class="nav-text">配置 Apache、mysql 开机启动</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-Mysql"><span class="nav-number"></span> <span class="nav-text">配置 Mysql</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-php-%E6%89%A9%E5%B1%95"><span class="nav-number"></span> <span class="nav-text">安装 php 扩展</span></a></li></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Rynes</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">306</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">36</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">47</span> <span class="site-state-item-name">标签</span></a></div></nav></div></div></div><div class="back-to-top animated" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div class="sidebar-dimmer"></div></header><div class="reading-progress-bar"></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://obsidianstar.cn/2021/01/14/server/alicloud-lamp/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Rynes"><meta itemprop="description" content=""></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Rynes"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">阿里云服务器部署LAMP环境</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-01-14 00:00:00" itemprop="dateCreated datePublished" datetime="2021-01-14T00:00:00+08:00">2021-01-14</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2023-08-04 18:54:50" itemprop="dateModified" datetime="2023-08-04T18:54:50+08:00">2023-08-04</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/server/" itemprop="url" rel="index"><span itemprop="name">server</span></a> </span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span></span></div></div></header><div class="post-body" itemprop="articleBody"><h2 id="购买阿里云学生机"><a href="#购买阿里云学生机" class="headerlink" title="购买阿里云学生机"></a>购买阿里云学生机</h2><ol><li>使用淘宝号登陆阿里云 app</li><li>点击中间部分校园扶持</li><li>进入新页面点击学生特惠</li><li>选择云服务器</li><li>在选操作系统的时候选 centos，如果没有 centos 系统可以先选 ubuntu（后续更改 centos）</li><li>选好以后购买即可 9.9 元一个月</li></ol><h2 id="更换-centos7-系统"><a href="#更换-centos7-系统" class="headerlink" title="更换 centos7 系统"></a>更换 centos7 系统</h2><ol><li>登陆 PC 端阿里云网站（aliyun.com）</li><li>点击右上角<strong>控制台</strong>，打开新页面点击左侧<strong>云服务器 ECS</strong></li><li>点击新的页面左侧的 <strong>实例</strong> 会显示已经买了的服务器</li><li>点击服务器的实例名称会跳转实例详情页面</li><li>在详情页面点击右上角<strong>停止</strong>按钮，会有提示，选择<strong>停止</strong>，确定即可</li><li>停止以后点击下方的<strong>更换系统盘</strong>，在新的页面选择<strong>centos7.2</strong>版本</li><li>下边登陆密码记录好，一会儿备用（看下图）。更换以后返回实例列表会显示提供的<strong>公共 ip</strong>地址用来访问和远程连接</li></ol><p><img src="/images/alicloud/shop.png"></p><p><img src="/images/alicloud/ip.png"></p><h2 id="使用-Xshell-连接阿里云服务器"><a href="#使用-Xshell-连接阿里云服务器" class="headerlink" title="使用 Xshell 连接阿里云服务器"></a>使用 Xshell 连接阿里云服务器</h2><p><strong>下载 Xshell</strong></p><p><a target="_blank" rel="noopener" href="https://www.netsarang.com/download/down_form.html?code=522">下载 Xshell</a></p><p><img src="/images/alicloud/xshell.png"></p><p>填入信息后，点击下方 submit 下载</p><p><strong>配置连接</strong></p><p>打开软件，点击文件，新建（看下图）</p><ol><li>ip 填写阿里云的公网 ip</li><li>端口号 22</li><li>点击确定，选择连接</li><li>提示输入用户名和密码</li><li>用户名是 root，密码是更换系统盘时设置的密码</li><li>出现下图即为连接成功</li></ol><p><img src="/images/alicloud/xshell1.png"></p><p><img src="/images/alicloud/xshell2.png"></p><h2 id="使用-Xftp-连接服务器，用于本机与服务器的文件传输"><a href="#使用-Xftp-连接服务器，用于本机与服务器的文件传输" class="headerlink" title="使用 Xftp 连接服务器，用于本机与服务器的文件传输"></a>使用 Xftp 连接服务器，用于本机与服务器的文件传输</h2><p><strong>下载 xftp</strong></p><p><a target="_blank" rel="noopener" href="https://www.netsarang.com/download/down_form.html?code=523">下载 xftp</a></p><p>和 Xshell 下载方式相同</p><p><strong>配置连接</strong></p><p>打开软件，点击文件，新建连接（看下图）</p><ol><li>主机填写阿里云公网 ip</li><li>协议选择 SFTP</li><li>下方登陆输入用户名和密码即可</li></ol><p><img src="/images/alicloud/xftp1.png"></p><p><strong>第二种方法</strong></p><ol><li>在 Xshell 中连接服务器之后点击菜单栏按钮（看下图），也可以自动打开 xftp 用来文件传输。</li><li>比如想在 /var/www/html 中加入本机的 php 文件，就在 xshell 中输入 cd /var/www/html 然后点击第一步中所说的按钮，就会打开 xftp，以及所切换的文件目录（看下图）</li></ol><p><img src="/images/alicloud/xshellxftp.png"></p><p><img src="/images/alicloud/shell.png"></p><h2 id="安装-apache"><a href="#安装-apache" class="headerlink" title="安装 apache"></a>安装 apache</h2><p><strong>安装 apache</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># yum -y install httpd</span></span><br></pre></td></tr></table></figure><p>安装完会提示安装成功</p><p><strong>启动 apache 服务</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># systemctl start httpd.service</span></span><br></pre></td></tr></table></figure><p><strong>设置 apache 服务开机启动</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># systemctl enable httpd.service</span></span><br></pre></td></tr></table></figure><p><strong>测试 apache 是否安装成功</strong></p><p>打开浏览器输入 ip 地址(公网 ip)出现下图说明安装成功</p><p><img src="/images/alicloud/success.png"></p><blockquote><p>CentOS7 用的是 Firewall-cmd，CentOS7 之前用的是 iptables 防火墙；要想让外网能访问到 apache 主目录，就需要做以下的操作(阿里云无需做此步骤)</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># firewall-cmd --permanent --zone=public --add-service=http</span></span><br><span class="line">[root@localhost ~]<span class="comment"># firewall-cmd --permanent --zone=public --add-service=https</span></span><br><span class="line">[root@localhost ~]<span class="comment"># firewall-cmd --reload</span></span><br></pre></td></tr></table></figure><h2 id="安装-PHP"><a href="#安装-PHP" class="headerlink" title="安装 PHP"></a>安装 PHP</h2><p><strong>安装 epel-release</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># yum -y install epel-release</span></span><br></pre></td></tr></table></figure><p><strong>获取 PHP7 的 yum 源</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm</span><br></pre></td></tr></table></figure><p><strong>安装 php7</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># yum install php70w 出现安装提示 输入 Y 确认即可</span></span><br></pre></td></tr></table></figure><p>安装成功以后输入 <code>php -v</code> 会出现 php 的版本</p><p><strong>重启 apache 服务器</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart httpd或者systemctl restart httpd.service</span><br></pre></td></tr></table></figure><p><strong>安装 PHP 常用的模块</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install php-gd php-ldap php-odbc php-pear php-xml php-xmlrpc php-mbstring php-snmp php-soap curl curl-devel</span><br></pre></td></tr></table></figure><p><strong>查看已安装的模块</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php -m</span><br></pre></td></tr></table></figure><pre><code>安装包         提供的拓展
php70w          mod_php , php70w-zts
php70w-bcmath
php70w-cli      php-cgi, php-pcntl, php-readline
php70w-common   php-api, php-bz2, php-calendar, php-ctype, php-curl, php-date, php-exif, php-fileinfo, php-filter, php-ftp, php-gettext, php-gmp, php-hash, php-iconv, php-json, php-libxml, php-openssl, php-pcre, php-pecl-Fileinfo, php-pecl-phar, php-pecl-zip, php-reflection, php-session, php-shmop, php-simplexml   , php-sockets, php-spl, php-tokenizer, php-zend-abi, php-zip, php-zlib
php70w-dba
php70w-devel
php70w-embedded     php-embedded-devel
php70w-enchant
php70w-fpm
php70w-gd
php70w-imap
php70w-interbase        php_database, php-firebird
php70w-intl
php70w-ldap
php70w-mbstring
php70w-mcrypt
php70w-mysql        php-mysqli, php_database
php70w-mysqlnd      php-mysqli, php_database
php70w-odbc     php-pdo_odbc, php_database
php70w-opcache      php70w-pecl-zendopcache
php70w-pdo      php70w-pdo_sqlite, php70w-sqlite3
php70w-pdo_dblib        php70w-mssql
php70w-pear
php70w-pecl-apcu
php70w-pecl-imagick
php70w-pecl-memcached
php70w-pecl-mongodb
php70w-pecl-redis
php70w-pecl-xdebug
php70w-pgsql        php-pdo_pgsql, php_database
php70w-phpdbg
php70w-process      php-posix, php-sysvmsg, php-sysvsem, php-sysvshm
php70w-pspell
php70w-recode
php70w-snmp
php70w-soap
php70w-tidy
php70w-xml      php-dom, php-domxml, php-wddx, php-xsl
php70w-xmlrpc</code></pre><p>譬如你要加装 mysql，那么可以直接,别怀疑就是这么简单：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># yum install php70w-mysql</span></span><br></pre></td></tr></table></figure><p>安装完以后重启 apache</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart httpd.service</span><br></pre></td></tr></table></figure><p><strong>测试是否能够运行 php</strong></p><p>打开 <code>vim /var/www/html/info.php</code> 输入 <code>&lt;?php echo phpinfo(); ?&gt;</code> 保存退出。在本机浏览器输入 10.2.5.17/info.php(ip 换成阿里云 ip) 会出现 php 的信息，以及安装的 PHP 模块儿</p><h2 id="安装-Mysql"><a href="#安装-Mysql" class="headerlink" title="安装 Mysql"></a>安装 Mysql</h2><p><strong>安装 5.7.x 的 mysql 源</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y localinstall  http://dev.mysql.com/get/mysql57-community-release-el7-7.noarch.rpm</span><br></pre></td></tr></table></figure><p><strong>检查 mysql 源是否安装成功</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist enabled | grep <span class="string">&quot;mysql.*-community.*&quot;</span></span><br></pre></td></tr></table></figure><p><strong>安装 mysql</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install mysql-community-server install mysql-community-devel</span><br></pre></td></tr></table></figure><p><strong>启动 mysql</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld start</span><br></pre></td></tr></table></figure><p><strong>检查 mysql 启动是否正常</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld status 或者 ps -ef | grep mysql</span><br></pre></td></tr></table></figure><p><strong>设置 mysqld 服务开机自启动</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> mysqld.service</span><br></pre></td></tr></table></figure><p><strong>检查 mysqld 开机自启动是否设置成功</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl list-dependencies | grep mysqld</span><br></pre></td></tr></table></figure><p><strong>查看 mysql 默认密码</strong></p><p>查阅 mysql 的官方文档(文档在上面工具/原料里面有写),查询对应的随机密码, 这里说明一下 mysql5.7 以后的争强了安全机制, 所以使用 yum 安装,启动会系统会自动生成一个随机的密码.<br>查看 mysql 的随机密码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;temporary password&#x27;</span> /var/<span class="built_in">log</span>/mysqld.log</span><br></pre></td></tr></table></figure><p>使用查询得到的随机密码在终端登录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p 更改密码(mysql 文档规定,密码必须包括大小写字母数字加特殊符号&gt;8 位)</span><br><span class="line"></span><br><span class="line">ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;你要设置的密码&#x27;</span>;</span><br></pre></td></tr></table></figure><p>退出 mysql 客户端,用刚才修改的密码登录确保密码修改成功</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -pxxxxx</span><br></pre></td></tr></table></figure><p><strong>(看下图)</strong><br><img src="/images/alicloud/mysql1.png"></p><p><img src="/images/alicloud/mysql2.png"></p><p><img src="/images/alicloud/mysql3.png"></p><p><img src="/images/alicloud/mysql4.png"></p><p><strong>设置 mysql 远程连接</strong></p><p>直接授权(推荐)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><pre><code>mysql&gt;GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;youpassword&#39; WITH GRANT OPTION;</code></pre><p>操作完后切记执行以下命令刷新权限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES</span><br></pre></td></tr></table></figure><p><img src="/images/alicloud/10038.png"></p><p><strong>navicat 远程连接</strong></p><p><img src="/images/alicloud/lianjie1.png"></p><p>如果连接失败请关闭防火墙 输入以下代码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld.service <span class="comment">#停止firewall</span></span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld.service <span class="comment">#禁止firewall开机启动</span></span><br><span class="line">firewall-cmd --state <span class="comment">#查看默认防火墙状态（关闭后显示notrunning，开启后显示running）</span></span><br></pre></td></tr></table></figure><p><img src="/images/alicloud/fanghuo.png">;</p><h2 id="测试-php-和-mysql-是否能够使用"><a href="#测试-php-和-mysql-是否能够使用" class="headerlink" title="测试 php 和 mysql 是否能够使用"></a>测试 php 和 mysql 是否能够使用</h2><p>打开 <code>vim /var/www/html/info.php</code> 输入以下内容，然后在本机浏览器预览，如果有数据就说明已经完成了。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$con = mysqli_connect(<span class="string">&#x27;localhost&#x27;</span>, <span class="string">&#x27;root&#x27;</span>, <span class="string">&#x27;LIxiang@123&#x27;</span>);</span><br><span class="line">var_dump($con);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>此时 LAMP 已经安装完成</p><h1 id="yum-安装-mysql"><a href="#yum-安装-mysql" class="headerlink" title="yum 安装 mysql"></a>yum 安装 mysql</h1><p>centos7 内置的 MySQL 镜像已经放弃 Oracle 公司的 MySQL，改用 MySQL 的分支数据库 mariaDB，使用以下安装 mariadb：</p><p><code>yum -y install mariadb</code></p><p>然后使用命令 systemctl start mariadb，提示如下：</p><pre><code>Failed to start mariadb.service: Unit mariadb.service failed to load: No such file or directory</code></pre><p>意思找不到 mariadb 这个服务。之所以找不到，是因为 mariadb 的安装本身就没有完成。</p><p>执行以下，安装缺少的依赖包：</p><p><code>yum -y install mariadb-embedded mariadb-libs mariadb-bench mariadb mariadb-sever</code></p><p>然后再启动 mariadb，正常，如果要设置开机自启动 mariadb，使用以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> mariadb</span><br></pre></td></tr></table></figure><p><strong>一定要记得，使用 yum install 命令安装 mysql 时，需要多加一个通配符<code>&#39;*&#39;</code>，使用如下命令：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install mariadb*</span><br></pre></td></tr></table></figure><p>此时就没错了 = =</p><h1 id="配置-Apache、mysql-开机启动"><a href="#配置-Apache、mysql-开机启动" class="headerlink" title="配置 Apache、mysql 开机启动"></a>配置 Apache、mysql 开机启动</h1><p>重启 Apache、mysql 服务(注意这里和 centos6 有区别,Cenots7+不能使用 6 的方式)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl start httpd.service <span class="comment">#启动apache</span></span><br><span class="line">systemctl stop httpd.service <span class="comment">#停止apache</span></span><br><span class="line">systemctl restart httpd.service <span class="comment">#重启apache</span></span><br><span class="line">systemctl <span class="built_in">enable</span> httpd.service <span class="comment">#设置apache开机启动</span></span><br></pre></td></tr></table></figure><p>如果是采用方法一安装的 mariadb,安装完成以后使用下面的命令开启数据库服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#启动MariaDB</span></span><br><span class="line"></span><br><span class="line">[root@localhost ~]<span class="comment"># systemctl start mariadb.service</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#停止MariaDB</span></span><br><span class="line"></span><br><span class="line">[root@localhost ~]<span class="comment"># systemctl stop mariadb.service</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#重启MariaDB</span></span><br><span class="line"></span><br><span class="line">[root@localhost ~]<span class="comment"># systemctl restart mariadb.service</span></span><br></pre></td></tr></table></figure><p>设置开机启动</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># systemctl enable mariadb.service</span></span><br></pre></td></tr></table></figure><p>重启对应服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">service mysqld restart</span><br><span class="line"></span><br><span class="line">service php-fpm start</span><br><span class="line"></span><br><span class="line">service httpd restart</span><br></pre></td></tr></table></figure><h1 id="配置-Mysql"><a href="#配置-Mysql" class="headerlink" title="配置 Mysql"></a>配置 Mysql</h1><p>初次安装 mysql 是没有密码的,我们要设置密码，mysql 的默认账户为 root</p><p>设置 MySQL 数据 root 账户的密码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># mysql_secure_installation</span></span><br></pre></td></tr></table></figure><p>当出现如下提示时候直接按回车：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Enter current password <span class="keyword">for</span> root</span><br></pre></td></tr></table></figure><p>出现如下再次回车：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set root password? [Y/n]</span><br></pre></td></tr></table></figure><p>出现如下提示输入你需要设置的密码，这里输入了 root,输入密码是不显示的，回车后再输入一次确认：</p><p>New password:<br>接下来还会有四个确认，分别是：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Remove anonymous users? [Y/n]</span><br><span class="line">Disallow root login remotely? [Y/n]</span><br><span class="line">Remove <span class="built_in">test</span> database and access to it? [Y/n]</span><br><span class="line">Reload privilege tables now? [Y/n]</span><br></pre></td></tr></table></figure><h1 id="安装-php-扩展"><a href="#安装-php-扩展" class="headerlink" title="安装 php 扩展"></a>安装 php 扩展</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install php-gd php-ldap php-odbc php-pear php-xml php-xmlrpc php-mbstring php-snmp php-soap curl curl-devel php-pdo</span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="reward-container"><div></div><button onclick='document.querySelector(".post-reward").classList.toggle("active")'>赞赏</button><div class="post-reward"><div><img src="/images/wechat.jpg" alt="Rynes 微信"> <span>微信</span></div><div><img src="/images/alipay.jpg" alt="Rynes 支付宝"> <span>支付宝</span></div></div></div><div class="post-copyright"><ul><li class="post-copyright-author"><strong>本文作者： </strong>Rynes</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://obsidianstar.cn/2021/01/14/server/alicloud-lamp/" title="阿里云服务器部署LAMP环境">https://obsidianstar.cn/2021/01/14/server/alicloud-lamp/</a></li></ul></div><div class="post-tags"><a href="/tags/server/" rel="tag"><i class="fa fa-tag"></i> server</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2021/01/14/server/linux/" rel="prev" title="Linux 命令"><i class="fa fa-chevron-left"></i> Linux 命令</a></div><div class="post-nav-item"><a href="/2021/01/14/redis/intro/" rel="next" title="Redis">Redis <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Rynes</span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动</div></div></footer><script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.4.0/pjax.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script>var pjax = new Pjax({
  selectors: [
    'head title',
    '.page-configurations',
    '.main-inner',
    '.post-toc-wrap',
    '.languages',
    '.pjax'
  ],
  analytics: false,
  cacheBust: false,
  scrollRestoration: false,
  scrollTo: !CONFIG.bookmark.enable
});

document.addEventListener('pjax:success', () => {
  pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  const hasTOC = document.querySelector('.post-toc');
  document.querySelector('.sidebar-inner').classList.toggle('sidebar-nav-active', hasTOC);
  document.querySelector(hasTOC ? '.sidebar-nav-toc' : '.sidebar-nav-overview').click();
  NexT.utils.updateSidebarPosition();
});</script><script src="/js/local-search.js"></script><script data-pjax>if (document.querySelectorAll('.pdf-container').length) {
  NexT.utils.getScript('https://cdn.jsdelivr.net/npm/pdfobject@2.2.5/pdfobject.min.js', () => {
    document.querySelectorAll('.pdf-container').forEach(element => {
      PDFObject.embed(element.dataset.target, element, {
        pdfOpenParams: {
          navpanes : 0,
          toolbar  : 0,
          statusbar: 0,
          pagemode : 'thumbs',
          view     : 'FitH'
        },
        PDFJS_URL: '/lib/pdf/web/viewer.html',
        height   : element.dataset.height
      });
    });
  }, window.PDFObject);
}</script><script data-pjax>var mermaidElements = document.querySelectorAll('.mermaid');
if (mermaidElements.length) {
  NexT.utils.getScript('https://cdn.jsdelivr.net/npm/mermaid@8.9.2/dist/mermaid.min.js', () => {
    mermaidElements.forEach(element => {
      const newElement = document.createElement('div');
      newElement.innerHTML = element.innerHTML;
      newElement.className = element.className;
      element.parentNode.replaceChild(newElement, element);
    });

    mermaid.init({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    }, '.mermaid');
  }, window.mermaid);
}</script><script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="pjax"></div></body></html>